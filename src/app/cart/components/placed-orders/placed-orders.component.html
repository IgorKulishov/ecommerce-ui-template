<app-alert [size]="'lg'" [dismissible]="true" [type]="'warning'"></app-alert>
<div class="container-fluid default-page-background">

  <div class="table-block">
    <table class="table text-center">
      <thead>
        <tr>
          <th>{{ 'checkout.image' | translate }}</th>
          <th>{{ 'checkout.product' | translate}}</th>
          <th>{{ 'checkout.price' | translate}}</th>
          <th>{{ 'checkout.quantity' | translate}}</th>
          <th>{{ 'checkout.total' | translate}}</th>
          <th>{{ 'placedOrder.dateOfOrder' | translate }}</th>
          <th>{{ 'placedOrder.cancel' | translate }}</th>
        </tr>
      </thead>
      <tbody *ngFor='let placedOrdersDetails of (placedOrdersDetails$ | async)'>
        <tr *ngFor='let placedOrderProductsDescription of placedOrdersDetails?.orderDetails.itemList'>
          <td class="align-middle"><img [src]="getProductUrl(placedOrderProductsDescription.product.productInfo)"
            onerror="this.onerror=null;this.src='/assets/images/teapod.jpeg';" alt="image of {{placedOrderProductsDescription.product.name}}" style="max-width: 100px;"></td>
          <td class="align-middle" data-label="{{'checkout.product' | translate}}">{{placedOrderProductsDescription.product.description}}</td>
          <td class="align-middle" data-label="Price">$ {{placedOrderProductsDescription.product.price}}</td>
          <td class="align-middle" data-label="Quantity">{{placedOrderProductsDescription.quantity}} {{'placedOrder.pcs' | translate}}</td>
          <td class="align-middle" data-label="Total">$ {{ totalSum(placedOrderProductsDescription.product.price, placedOrderProductsDescription.quantity) }}</td>
          <td class="align-middle" data-label="Date of order">01/11/2020</td>
          <td class="align-middle" data-label="Cancel"><button class="btn btn-danger">{{ 'placedOrder.cancel' | translate }}</button></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="row justify-content-end pt-5">
    <div class="col-12 col-md-7 col-lg-6 col-xl-5">
      <div class="card">
        <div class="card-body">
          <h3 class="card-title">{{ 'checkout.cartTotals' | translate }}</h3>
          <table class="cart__totals">
            <thead *ngIf="totalAmount" class="cart__totals-header">
            <tr>
              <th>{{ 'checkout.subtotal' | translate }}</th>
              <td>$ {{totalAmount}}</td>
            </tr>
            </thead>
            <tbody *ngIf="totalAmount" class="cart__totals-body">
            </tbody>
            <tfoot class="cart__totals-footer">
            <tr>
              <th>{{ 'checkout.total' | translate }}</th>
              <td>$ {{totalAmount}}</td>
            </tr>
            <tr>
              <th>
              </th>
              <th>
                <div class="text-center checkout-confirmation" *ngIf='checkOutConfirmationStatus'>Thank you! Your order has been accepted!</div>
              </th>
            </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>